{% extends '@layout/admin.html.twig' %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('/admin.css') }}">
{% endblock %}

{% block scripts %}
<script>
    const apiURL = "{{ path('api.roles') }}";
</script>
<script src="{{ asset('/roles.js') }}"></script>
{% endblock %}

{% block title %}Roles{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center">
    <h1>
        <i class="fas fa-users"></i>
        Roles
    </h1>
    <div>
        <button class="btn btn-primary" id="btn-create">
            <i class="fas fa-plus-circle"></i>
            Add a new role
        </button>
    </div>
</div>

<table class="table table-striped table-sm">
    <thead>
        <tr>
            <th class="text-right">#</th class="text-right">
            <th>Name</th>
            <th>Priority</th>
            <th colspan="2">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for role in roles %}
        <tr data-id="{{ role.id }}">
            <td class="text-right text-secondary">{{ role.id }}</td>
            <td>
                <i class="fas fa-users"></i>
                {{ role.name }}
            </td>
            <td>{{ role.priority }}</td>
            <td class="action">
                <a role="button" href="#edit" title="Edit">
                    <i class="fas fa-edit"></i>
                    <span class="sr-only">Edit</span>
                </a>
            </td>
            <td class="action">
                <a role="button" href="#" title="Permissions">
                    <i class="fas fa-key"></i>
                    <span class="sr-only">Permissions</span>
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% include '@app/admin/modal/role.html.twig' %}

{% endblock %}